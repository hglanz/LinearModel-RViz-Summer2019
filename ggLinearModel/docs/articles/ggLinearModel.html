<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ggLinearModel • ggLinearModel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="ggLinearModel">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggLinearModel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ggLinearModel.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>ggLinearModel</h1>
                        <h4 class="author">Jack Langston</h4>
            
            <h4 class="date">2019-09-03</h4>
      
      
      <div class="hidden name"><code>ggLinearModel.Rmd</code></div>

    </div>

    
    
<div id="gglinearmodel" class="section level1">
<h1 class="hasAnchor">
<a href="#gglinearmodel" class="anchor"></a>ggLinearModel</h1>
<p><code>ggLinearModel</code> is a package designed to create easy linear model visualizations in one simple step. Using the <code>ggLinearModel</code> function the user has access many various types of linear models, including models with:</p>
<ul>
<li>the same slope</li>
<li>the same intercept</li>
<li>polynomial predictors</li>
<li>varying number of interaction effects</li>
<li>both confidence and prediction intervals, with the ability to change the confidence level</li>
<li>interactive features to show the equation for LSRL or information about a specific data point</li>
<li>ggplot or plotly style graphs</li>
</ul>
</div>
<div id="old-vs--new" class="section level1">
<h1 class="hasAnchor">
<a href="#old-vs--new" class="anchor"></a>Old vs. New</h1>
<p>Although creating plots in R is super easy thanks to the creation of <code>ggplot</code>, adding multiple different items to a plot can be complex, and require lots of code. In this section, you will view the differences in code required to create different types of linear models and then visualize them.</p>
<div id="the-full-model" class="section level3">
<h3 class="hasAnchor">
<a href="#the-full-model" class="anchor"></a>The full model</h3>
<p>This model is the easiest to code in <code>ggplot</code>, with the most important part is the <code>geom_smooth(method = lm, ...)</code>. This ensures that the graph adds the least-squares regression lines for each category. Using <code><a href="../reference/ggLinearModel.html">ggLinearModel()</a></code> we just input our dataset, or tibble, x variable, y variable, and categorical variable to create the same graph in much less code.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width, <span class="dt">col =</span> Species)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> lm, <span class="dt">se =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(iris, Sepal.Length, Sepal.Width, Species)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-1-2.png" width="700"></p>
</div>
<div id="same-slope-model" class="section level3">
<h3 class="hasAnchor">
<a href="#same-slope-model" class="anchor"></a>Same slope model</h3>
<p>Now let’s assume that you want to create a visualization that shows the regression estimates as lines with the same slope, or when there no interaction effect involved. In <code>ggplot</code> we have no easy way to do this. We must first create our model, and instead of using the <code>geom_smooth()</code>. Then we add a new <code>geom_abline()</code> for each level in the dataset, with each <code>geom_abline()</code> having different inputs for the intercept parameter. This is going to get messy quickly with lots of levels in your categorical variable. Using <code><a href="../reference/ggLinearModel.html">ggLinearModel(..., same_slope = TRUE)</a></code> the user will get the same process done in much less code and prevents you from making any mistakes when creating the different <code>geom_abline()</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>model &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(Sepal.Width <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Species, <span class="dt">data =</span> iris)</span>
<span id="cb3-2"><a href="#cb3-2"></a>m &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">2</span>]</span>
<span id="cb3-3"><a href="#cb3-3"></a>b &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">1</span>]</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width, <span class="dt">col =</span> Species)) <span class="op">+</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="kw">aes</span>(<span class="dt">slope =</span> m,</span>
<span id="cb3-7"><a href="#cb3-7"></a>                <span class="dt">intercept =</span> b, </span>
<span id="cb3-8"><a href="#cb3-8"></a>                <span class="dt">color =</span> <span class="st">'setosa'</span>)) <span class="op">+</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="kw">aes</span>(<span class="dt">slope =</span> m, </span>
<span id="cb3-10"><a href="#cb3-10"></a>                <span class="dt">intercept =</span> b <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">3</span>], </span>
<span id="cb3-11"><a href="#cb3-11"></a>                <span class="dt">color =</span> <span class="st">'versicolor'</span>)) <span class="op">+</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="kw">aes</span>(<span class="dt">slope =</span> m, </span>
<span id="cb3-13"><a href="#cb3-13"></a>                <span class="dt">intercept =</span> b <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">4</span>], </span>
<span id="cb3-14"><a href="#cb3-14"></a>                <span class="dt">color =</span> <span class="st">'virginica'</span>))</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(iris, Sepal.Length, Sepal.Width, Species, <span class="dt">same_slope =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-2-2.png" width="700"></p>
</div>
<div id="same-intercept-model" class="section level3">
<h3 class="hasAnchor">
<a href="#same-intercept-model" class="anchor"></a>Same intercept model</h3>
<p>If a user wanted to create a model with the same intercept for each level of the categorical variable they would have to follow the same method as above, but instead, only include an interaction effect and not a categorical effect. Using <code>ggLinearModel</code> we can solve this problem but just adding the <code><a href="../reference/ggLinearModel.html">ggLinearModel(..., same_intercept = TRUE)</a></code> parameter.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>model &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(Sepal.Width <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Sepal.Length<span class="op">:</span>Species, <span class="dt">data =</span> iris)</span>
<span id="cb5-2"><a href="#cb5-2"></a>b &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">1</span>]</span>
<span id="cb5-3"><a href="#cb5-3"></a>m &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">2</span>]</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width, <span class="dt">col =</span> Species)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="kw">aes</span>(<span class="dt">intercept =</span> b,</span>
<span id="cb5-7"><a href="#cb5-7"></a>                    <span class="dt">slope =</span> m,</span>
<span id="cb5-8"><a href="#cb5-8"></a>                    <span class="dt">color =</span> <span class="st">'setosa'</span>)) <span class="op">+</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="kw">aes</span>(<span class="dt">slope =</span> m <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">3</span>], </span>
<span id="cb5-10"><a href="#cb5-10"></a>                    <span class="dt">intercept =</span> b,</span>
<span id="cb5-11"><a href="#cb5-11"></a>                    <span class="dt">color =</span> <span class="st">'versicolor'</span>)) <span class="op">+</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="kw">aes</span>(<span class="dt">slope =</span> m <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">4</span>], </span>
<span id="cb5-13"><a href="#cb5-13"></a>                    <span class="dt">intercept =</span> b,</span>
<span id="cb5-14"><a href="#cb5-14"></a>                    <span class="dt">col =</span> <span class="st">'virginica'</span>))</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(iris, Sepal.Length, Sepal.Width, Species, <span class="dt">same_intercept =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-3-2.png" width="700"></p>
</div>
<div id="polynomial-model" class="section level3">
<h3 class="hasAnchor">
<a href="#polynomial-model" class="anchor"></a>Polynomial model</h3>
<p>Using <code>ggLinearModel</code> you can make models with any number of polynomial predictors. Just add the <code>poly</code> parameter to the function and assign it to the number of polynomial predictors you want in the model. This is a much easier solution than having to add a new <code>stat_function</code> to include each new curved line to the plot object.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>mpg<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(mpg<span class="op">$</span>year))</span>
<span id="cb7-2"><a href="#cb7-2"></a>model &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(hwy <span class="op">~</span><span class="st"> </span>displ <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span>(displ<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>displ<span class="op">:</span>year <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span>(displ<span class="op">^</span><span class="dv">2</span>)<span class="op">:</span>year, <span class="dt">data =</span> mpg)</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> hwy, <span class="dt">col =</span> year)) <span class="op">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">    </span><span class="kw">stat_function</span>(<span class="dt">fun=</span><span class="cf">function</span>(x) </span>
<span id="cb7-6"><a href="#cb7-6"></a>        model<span class="op">$</span>coefficients[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">2</span>]<span class="op">*</span>x <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="st">            </span>model<span class="op">$</span>coefficients[<span class="dv">3</span>]<span class="op">*</span>x<span class="op">^</span><span class="dv">2</span>, </span>
<span id="cb7-8"><a href="#cb7-8"></a>        <span class="kw">aes</span>(<span class="dt">col =</span> <span class="st">'1999'</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="st">    </span><span class="kw">stat_function</span>(<span class="dt">fun=</span><span class="cf">function</span>(x) </span>
<span id="cb7-10"><a href="#cb7-10"></a>        model<span class="op">$</span>coefficients[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">2</span>]<span class="op">*</span>x <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="st">            </span><span class="kw"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span>(x<span class="op">^</span><span class="dv">2</span>)<span class="op">*</span>model<span class="op">$</span>coefficients[<span class="dv">5</span>]<span class="op">+</span>model<span class="op">$</span>coefficients[<span class="dv">3</span>]<span class="op">*</span>x<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">4</span>]<span class="op">*</span>x, </span>
<span id="cb7-12"><a href="#cb7-12"></a>        <span class="kw">aes</span>(<span class="dt">col =</span> <span class="st">'2008'</span>))</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(mpg, displ, hwy, year, <span class="dt">poly =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-4-2.png" width="700"></p>
</div>
<div id="polynomial-model-with-fewer-interactions" class="section level3">
<h3 class="hasAnchor">
<a href="#polynomial-model-with-fewer-interactions" class="anchor"></a>Polynomial model with fewer interactions</h3>
<p>If it doesn’t make sense to include a model with as many interaction effects as polynomial predictors you can modify this in the <code>ggLinearModel</code> function. As a default when using the <code>poly</code> parameter in the <code>ggLinearModel</code> function the function automatically assigns the number of interaction effects to be equal to the number of polynomial predictors. You can change this by setting the <code>interactions</code> parameter to a different number than what you set <code>poly</code> at. Of course, the <code>interactions</code> parameter will not work unless you set the <code>poly</code> parameter, and the <code>interactions</code> parameter must be equal or less to the <code>poly</code> parameter.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>model &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(hwy <span class="op">~</span><span class="st"> </span>displ <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span>(displ<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>displ<span class="op">:</span>year, <span class="dt">data =</span> mpg)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> hwy, <span class="dt">col =</span> year)) <span class="op">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="st">    </span><span class="kw">stat_function</span>(<span class="dt">fun=</span><span class="cf">function</span>(x) </span>
<span id="cb9-5"><a href="#cb9-5"></a>        model<span class="op">$</span>coefficients[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">2</span>]<span class="op">*</span>x <span class="op">+</span><span class="st"> </span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="st">            </span>model<span class="op">$</span>coefficients[<span class="dv">3</span>]<span class="op">*</span>x<span class="op">^</span><span class="dv">2</span>, </span>
<span id="cb9-7"><a href="#cb9-7"></a>        <span class="kw">aes</span>(<span class="dt">col =</span> <span class="st">'1999'</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="st">    </span><span class="kw">stat_function</span>(<span class="dt">fun=</span><span class="cf">function</span>(x) </span>
<span id="cb9-9"><a href="#cb9-9"></a>        model<span class="op">$</span>coefficients[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">2</span>]<span class="op">*</span>x <span class="op">+</span><span class="st"> </span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="st">            </span><span class="kw"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span>(x<span class="op">^</span><span class="dv">2</span>)<span class="op">*</span>model<span class="op">$</span>coefficients[<span class="dv">3</span>] <span class="op">+</span><span class="st"> </span>model<span class="op">$</span>coefficients[<span class="dv">4</span>]<span class="op">*</span>x, </span>
<span id="cb9-11"><a href="#cb9-11"></a>        <span class="kw">aes</span>(<span class="dt">col =</span> <span class="st">'2008'</span>))</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(mpg, displ, hwy, year, <span class="dt">poly =</span> <span class="dv">2</span>, <span class="dt">interactions =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-5-2.png" width="700"></p>
</div>
</div>
<div id="added-features" class="section level1">
<h1 class="hasAnchor">
<a href="#added-features" class="anchor"></a>Added Features</h1>
<p><code>ggLinearModel</code> provides the user with multiple extra features to create a visual that tells more than just a plain plot.</p>
<div id="confidence-interval-and-prediction-interval" class="section level3">
<h3 class="hasAnchor">
<a href="#confidence-interval-and-prediction-interval" class="anchor"></a>Confidence Interval and Prediction Interval</h3>
<p>If the user wanted to add interval ribbons to their plot it is as simple as changing a parameter. Setting <code>ci</code> or <code>pi</code> to TRUE will add a confidence interval, and setting <code>level</code> to a number between 0 and 1 will change the confidence level of the interval. As the default, the <code>level</code> is preset to .95. The user can add both the <code>ci</code> and <code>pi</code> to the same graph if the desires.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(CO2, conc, uptake, Type, <span class="dt">ci =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(CO2, conc, uptake, Type, <span class="dt">pi =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-6-2.png" width="700"></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(CO2, conc, uptake, Type, <span class="dt">pi =</span> <span class="ot">TRUE</span>, <span class="dt">level =</span> <span class="fl">.5</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-6-3.png" width="700"></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(CO2, conc, uptake, Type, <span class="dt">ci =</span> <span class="ot">TRUE</span>, <span class="dt">pi =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-6-4.png" width="700"></p>
</div>
<div id="label-name-changing" class="section level3">
<h3 class="hasAnchor">
<a href="#label-name-changing" class="anchor"></a>Label name changing</h3>
<p>Although <code><a href="../reference/ggLinearModel.html">ggLinearModel()</a></code> will return a <code>ggplot</code> object you can still add a title, x-axis label, y-axis label, and legend title within <code><a href="../reference/ggLinearModel.html">ggLinearModel()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(mtcars, wt, mpg, cyl, </span>
<span id="cb15-2"><a href="#cb15-2"></a>               <span class="dt">title =</span> <span class="st">"The Affect of a car's weight on the MPG"</span>, <span class="dt">xlabel =</span> <span class="st">'Weight (1,000 lbs)'</span>, </span>
<span id="cb15-3"><a href="#cb15-3"></a>               <span class="dt">ylabel =</span> <span class="st">'Miles per Gallon'</span>, <span class="dt">legendTitle =</span> <span class="st">'Number of Cylinders in engine'</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div id="models-and-their-coefficients" class="section level3">
<h3 class="hasAnchor">
<a href="#models-and-their-coefficients" class="anchor"></a>Models and their coefficients</h3>
<p><code><a href="../reference/ggLinearModel.html">ggLinearModel(..., coefficients = TRUE)</a></code> will print the coefficients used to create the models and LSRL. However, if you want to get the whole model back use <code><a href="../reference/ggLinearModel.html">ggLinearModel(..., model = TRUE)</a></code>. The user can later use this model to do predictions, create other plots using the model, and anything else the user may need a model for.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(iris, Sepal.Length, Sepal.Width, Species, <span class="dt">coefficients =</span> T)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co">#&gt;                    (Intercept)                   Sepal.Length </span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co">#&gt;                     -0.5694327                      0.7985283 </span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co">#&gt;              Speciesversicolor               Speciesvirginica </span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co">#&gt;                      1.4415786                      2.0157381 </span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="co">#&gt; Sepal.Length:Speciesversicolor  Sepal.Length:Speciesvirginica </span></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co">#&gt;                     -0.4788090                     -0.5666378</span></span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(iris, Sepal.Length, Sepal.Width, Species, <span class="dt">model =</span> T)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co">#&gt; $model</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co">#&gt; </span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co">#&gt; Call:</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="co">#&gt; lm(formula = yvar ~ xvar * catvar, data = data)</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="co">#&gt; </span></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="co">#&gt;                    (Intercept)                    Sepal.Length  </span></span>
<span id="cb17-9"><a href="#cb17-9"></a><span class="co">#&gt;                        -0.5694                          0.7985  </span></span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="co">#&gt;              Speciesversicolor                Speciesvirginica  </span></span>
<span id="cb17-11"><a href="#cb17-11"></a><span class="co">#&gt;                         1.4416                          2.0157  </span></span>
<span id="cb17-12"><a href="#cb17-12"></a><span class="co">#&gt; Sepal.Length:Speciesversicolor   Sepal.Length:Speciesvirginica  </span></span>
<span id="cb17-13"><a href="#cb17-13"></a><span class="co">#&gt;                        -0.4788                         -0.5666  </span></span>
<span id="cb17-14"><a href="#cb17-14"></a><span class="co">#&gt; </span></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="co">#&gt; </span></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="co">#&gt; $plot</span></span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-8-2.png" width="700"></p>
</div>
<div id="no-categorical-variable" class="section level3">
<h3 class="hasAnchor">
<a href="#no-categorical-variable" class="anchor"></a>No categorical variable?</h3>
<p>No problem. <code><a href="../reference/ggLinearModel.html">ggLinearModel()</a></code> works without giving a categorical variable and any parameters you want.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(women, height, weight)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
<div id="adding-on-later" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-on-later" class="anchor"></a>Adding on later</h3>
<p><code>ggLinearModel</code> always will return a plot. So if the user builds a plot using <code>ggLinearModel</code> and then later decides to add on it they can! It can be treated like any other <code>ggplot</code> item. This feature doesn’t work if <code>plotly = TRUE</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>plot &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ggLinearModel.html">ggLinearModel</a></span>(iris, Sepal.Length, Sepal.Width, Species, <span class="dt">same_slope =</span> <span class="ot">TRUE</span>)</span>
<span id="cb19-2"><a href="#cb19-2"></a>plot <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width), <span class="dt">method =</span> <span class="st">'lm'</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="st">   </span><span class="kw">ggtitle</span>(<span class="st">'Categorical LSRL compared to overall LSRL'</span>)</span></code></pre></div>
<p><img src="ggLinearModel_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div id="interactive-and-plotly-features" class="section level3">
<h3 class="hasAnchor">
<a href="#interactive-and-plotly-features" class="anchor"></a>Interactive and plotly features</h3>
<p>You can create plots that will give the user more information about a data point when the user hovers over. Hovering over a line in the interactive plots will give the equation for the line. You can access these features using this example code <code><a href="../reference/ggLinearModel.html">ggLinearModel(iris, Sepal.Length, Sepal.Width, Species, interactive = TRUE)</a></code>. If you prefer plotly style plots to the ggplots from above you can add the plotly parameter and set it to TRUE as such, <code><a href="../reference/ggLinearModel.html">ggLinearModel(..., plotly = TRUE)</a></code> This will modify the ggplot object and turn it into a plotly object.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#gglinearmodel">ggLinearModel</a></li>
      <li><a href="#old-vs--new">Old vs. New</a></li>
      <li><a href="#added-features">Added Features</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jack Langston.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
